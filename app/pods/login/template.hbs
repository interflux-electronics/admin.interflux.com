<Page @id="login">
  <Section>
    <form>
      <div class="row one">
        <Input::String
          @value={{this.email}}
          @placeholder="Email"
          @type="email"
          @theme="tertiary"
          @disabled={{this.auth.getToken.isRunning}}
          @onChange={{fn (mut this.email)}}
          @onEnter={{this.submit}}
        />
      </div>

      <div class="row two">
        <Input::String
          @value={{this.password}}
          @placeholder="Password"
          @type="password"
          @theme="tertiary"
          @disabled={{this.auth.getToken.isRunning}}
          @onChange={{fn (mut this.password)}}
          @onEnter={{this.submit}}
        />

        <Button
          @onClick={{this.submit}}
          @icon={{if this.auth.getToken.isRunning 'ellipsis' 'chevron-right'}}
          @theme="tertiary"
          @disabled={{if this.auth.getToken.isRunning true}}
        />
      </div>

      {{#if this.auth.error}}
        <div class="row three">
          <p>Error: {{this.auth.error}}</p>
        </div>
      {{/if}}
    </form>

    <div class="back">
      <Button
        @route="index"
        @theme="tertiary"
        @icon="chevron-left"
      />
    </div>
  </Section>
</Page>