{{#with @model.webinar as |webinar|}}
  <Modal @id='webinar'>
    <h1>{{webinar.title}}</h1>

    <h2>Details</h2>

    <Field::String
      @label='Title'
      @record={{webinar}}
      @attribute='title'
    />

    <Field::String
      @label='Topic'
      @legend='Wrap words with *stars* to mark them yellow.'
      @record={{webinar}}
      @attribute='topic'
      @multiline='true'
    />

    <Field::String
      @label='Who should attend?'
      @legend='Wrap words with *stars* to mark them yellow.'
      @record={{webinar}}
      @attribute='audience'
      @multiline='true'
    />

    <Field::Date
      @label='Start time'
      @legend='Enter UTC times.'
      @record={{webinar}}
      @attribute='startTime'
    >
    </Field::Date>

    <p>Belgium: {{webinar.startTimeBelgium}}<br />
      Singapore: {{webinar.startTimeSingapore}}<br />
      Melbourne: {{webinar.startTimeMelbourne}}</p>

    <Field::String
      @label='Duration'
      @legend='In minutes, including the Q&A.'
      @record={{webinar}}
      @attribute='duration'
    />

    <Field::String
      @label='Link'
      @legend='The URL to the webinar'
      @record={{webinar}}
      @attribute='url'
    />

    <Field::Boolean
      @record={{webinar}}
      @attribute='public'
    >
      <label>Show on website</label>
    </Field::Boolean>

    <h2>People</h2>

    <p>Note: No need to fill out the people below, but we could use this in the future to automate the email invitations to our webinars.</p>

    <Field::OneToMany
      @label='Host'
      @legend='The person who will be presenting.'
      @baseRecord={{webinar}}
      @baseLabel='person'
      @targetModel="person"
      @targetFilter="fullName"
      @minKeyStrokes='1'
    />

    <Field::ManyToMany
      @label="Invitees"
      @legend="The people invited to the event."
      @baseRecord={{webinar}}
      @baseModel="webinar"
      @baseLabel="webinarInvitees"
      @joinModel="webinar-invitee"
      @targetModel="person"
      @targetLabel="fullName"
      @targetRoute='secure.people.person'
    />

    <h2>Database</h2>

    <Field::String
      @label='Database ID'
      @record={{webinar}}
      @attribute='id'
      @disabled={{true}}
    />
  </Modal>
{{/with}}