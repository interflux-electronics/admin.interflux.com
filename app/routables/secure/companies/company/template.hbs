{{#with @model.company as |company|}}

  <Modal @id="document">

    <h1>{{company.businessName}}</h1>
    {{#if company.hasDirtyAttributes}}
      <p>dirty</p>
    {{else}}
      <p>no changes</p>
    {{/if}}

    <hr>

    <Fieldset>
      <label>Business name</label>
      <Input
        @value={{company.businessName}}
        @key-down={{fn (mut company.businessName)}}
      />
    </Fieldset>

    <Fieldset>
      <label>Legal name</label>
      <Input
        @value={{company.legalName}}
        @key-down={{fn (mut company.legalName)}}
      />
    </Fieldset>

    <Fieldset>
      <label>Phone</label>
      <Input
        @value={{company.phone}}
        @key-down={{fn (mut company.phone)}}
      />
    </Fieldset>

    <Fieldset>
      <label>Fax</label>
      <Input
        @value={{company.fax}}
        @key-down={{fn (mut company.fax)}}
      />
    </Fieldset>

    <Fieldset>
      <label>Website</label>
      <Input
        @value={{company.website}}
        @key-down={{fn (mut company.website)}}
      />
    </Fieldset>

    <Fieldset>
      <label>Emails</label>
      <Fieldset::Hint @text="Use commas to separate multiple emails" />
      <Input
        @value={{company.emails}}
        @key-down={{fn (mut company.emails)}}
      />
    </Fieldset>

    <hr>

    <Fieldset>
      <label>Address</label>
      <Textarea
        @value={{company.address}}
        @key-down={{fn (mut company.address)}}
        cols="80"
        rows="6"
      />
      <!--  -->
    </Fieldset>

    <Fieldset>
      <label>Country</label>
      <Input::BelongsTo
        @value={{company.country}}
        @options={{@model.countries}}
        @key="nameEnglish"
      />
    </Fieldset>

    <Fieldset>
      <label>Latitude</label>
      <Input
        @value={{company.latitude}}
        @key-down={{fn (mut company.latitude)}}
      />
    </Fieldset>

    <Fieldset>
      <label>Longitude</label>
      <Input
        @value={{company.longitude}}
        @key-down={{fn (mut company.longitude)}}
      />
    </Fieldset>

    <hr>

    <!-- <p>Market:</p>

    <ul>
      {{#each company.markets as |market|}}
        <li>{{market.nameEnglish}}</li>
      {{/each}}
    </ul>

    <hr> -->

    <!-- <p>Members:</p>
    <ul>
      {{#each company.members as |member|}}
        <li>{{member.person.firstName}} {{member.person.lastName}}</li>
      {{/each}}
    </ul>

    <hr> -->

    <hr>

    <p>Show on website?</p>
    <Input::Boolean
      @value={{company.public}}
      @textTrue="Yes"
      @textFalse="No"
      @onToggle={{fn (mut company.public)}}
    />

    {{#if company.public}}
      <p>Position in list?</p>
      <Input::Number />
    {{/if}}

  </Modal>

{{/with}}